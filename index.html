<!DOCTYPE html >
<html lang="es">
<head>
	<title>Cenco Ordenes Workflow</title>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	

	<link href='imagenes/web/LOGO1.png' rel='shortcut icon' type='image/png'>

	<!-- Compiled and minified CSS -->
<!-- 	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css"> -->

	<!-- Compiled and minified JavaScript -->
<!-- 	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script> -->
	        

	<!-- JQUERY -->
	<script src="/libs/jquery/jquery.js"></script>


	<!-- FIREBASE SCRIPT -->
	<script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>

	
	<!-- ESTILOS -->

	<link rel="stylesheet" href="css/estilos.css">
	
	<!-- ANGULAR SCRIPTS -->
	<script src="/libs/angular/angular.min.js"></script>
	<script src="/js/app.js"></script>
	<script src="/js/controllers/mainController.js"></script>
	<script src="/js/services/google.js"></script>

<style>	
section{
	margin-bottom:40px;
}
</style>
<body ng-init="initWorkflow()" ng-app="myApp" ng-controller="mainController">
<section class="moduloAcceso">
	<input type="text" class="userCode">
	<button ng-click="buscarUsuario()">Acceder Workflow</button>
	<div>
		<h5>{{userInfo.nombre}}</h5>
		<h5>{{userInfo.acceso}}</h5>
		<h5>{{userInfo.sector}}</h5>
	
	</div>
</section>

<section class="moduloCarga">
<h3>Carga de ordenes</h3>

	<input type="text" class="ordenNum" placeholder="orden">
	<input type="text" class="empresario" placeholder="empresario">
	<input type="text" class="razon" placeholder="razon social">
	<input type="text" class="comentario" placeholder="comentario">
	<br>
	<button ng-click="crearOrden()">Crear Orden</button>
	
</section>

<section class="moduloAprobacion">
	
	<table>
	  <thead>
	    <tr>
	        <th>Fecha</th>
	        <th>Orden</th>	        
	        <th>Usuario</th>
	        <th>Empresario</th>
	        <th>Razon</th>
	        <th>Fase 1</th>
	        <th>Fase 2</th>
	         <th>guardar</th>

	    </tr>
	  </thead>

	  <tbody>
	    <tr ng-repeat="o in ordenes">
	      <td>{{o.fecha}}</td>
	         <td>{{o.nro}}</td>
	      <td>{{o.usuario}}</td>
	      <td>{{o.empresario}}</td>
	      <td>{{o.razon}}</td>
	      <td id="faseUno ">
	      	<input ng-disabled="habilitar('comercial')"  ng-checked={{o.faseUno.comercial.estado}}  ng-click = "guardarOrden($event , o.nro)" class="faseUno comercial" type="checkbox">
			<input ng-disabled="habilitar('finanzas')"  ng-checked={{o.faseUno.finanzas.estado}} ng-click = "guardarOrden($event , o.nro)"  class="faseUno finanzas" type ="checkbox">
			<input ng-disabled="habilitar('legales')"  ng-checked={{o.faseUno.legales.estado}}  ng-click = "guardarOrden($event , o.nro)"  class="faseUno legales" type="checkbox">
	      </td>

            <td id="faseDos" ">
            	<input ng-disabled="habilitar('facturacion')"   ng-checked={{o.faseDos.comercial.estado}} ng-click = "guardarOrden($event , o.nro)"  class="faseDos facturacion" type="checkbox">
      		<input ng-disabled="habilitar('legales')"  ng-checked={{o.faseDos.legales.estado}}  ng-click = "guardarOrden($event , o.nro)"  class="faseDos legales" type="checkbox">
            </td>
                  <td><button ng-click="guardarOrden(o)">Guardar</button></td>

	    </tr>
	    
	  </tbody>
	</table>
</section>



</body>
</html>